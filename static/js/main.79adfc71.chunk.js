(this["webpackJsonpwhere-am-i"]=this["webpackJsonpwhere-am-i"]||[]).push([[0],{100:function(e,t){},102:function(e,t){},137:function(e,t){},138:function(e,t){},180:function(e,t,o){"use strict";o.r(t);var n=o(0),a=o.n(n),i=o(81),s=o.n(i),c=o(43),l=o(9),r=o(44),p=o(82),m=a.a.createContext(),u=(m.Consumer,Object(p.a)("https://maps.googleapis.com/maps/api/js?key=AIzaSyBGMXRl6H-2uUTOK9tOwaBtVYaDohOEQZQ",{globalName:"google"})((function(e){var t=e.google,o=e.children;return t?a.a.createElement(m.Provider,{value:{google:t}},o):a.a.createElement("span",null,"Loading...")}))),g=m,d={addressControl:!1,addressControlOptions:!1,showRoadLabels:!1,disableDefaultUI:!0,pov:{heading:100,pitch:0},zoom:1},h=function(e){var t=e.coordinates,o=Object(n.useContext)(g).google,i=Object(n.useRef)(null),s=Object(n.useState)(),c=Object(l.a)(s,2),r=c[0],p=c[1];return Object(n.useEffect)((function(){r?r.setPosition(t):p(new o.maps.StreetViewPanorama(i.current,d))}),[o.maps.StreetViewPanorama,r,t]),a.a.createElement("div",{style:{width:"100vw",height:"100vh",backgroundColor:"#eeeeee"}},a.a.createElement("div",{ref:i,style:{height:"100%"}}))},f=o(85),b=function(e){var t=e.point,o=e.onGuessed,i=Object(n.useContext)(g).google,s=Object(n.useRef)(null),c=Object(n.useState)(),r=Object(l.a)(c,2),p=r[0],m=r[1],u=Object(n.useState)(),d=Object(l.a)(u,2),h=d[0],b=d[1],w=Object(n.useState)(),v=Object(l.a)(w,2),O=v[0],j=v[1];Object(n.useEffect)((function(){if(h){O&&O.setMap(null);var e=new i.maps.Marker({position:h});e.setMap(p),j(e)}}),[i.maps.Marker,h,p]),Object(n.useEffect)((function(){if(!p){var e={zoom:1,center:new i.maps.LatLng(0,0),streetViewControl:!1,fullscreenControl:!1},t=new i.maps.Map(s.current,e);t.addListener("click",(function(e){b(e.latLng)})),m(t)}}),[i.maps.Map,i.maps.LatLng,i.maps.Marker,p]);return a.a.createElement("div",{style:{backgroundColor:"#eeeeee",position:"absolute",right:"2vw",bottom:"20px",zIndex:2,border:"2px solid red"}},a.a.createElement(f.Resizable,{defaultSize:{width:320,height:200},minHeight:200,minWidth:200,maxHeight:"30vh",maxWidth:"96vw"},a.a.createElement("div",{style:{position:"relative",height:"100%"}},a.a.createElement("div",{ref:s,style:{height:"100%"}}),h&&a.a.createElement("button",{style:{position:"absolute",bottom:"0",left:"10px",width:"calc(100% - 20px)",height:"20px"},onClick:function(){O.setMap(null),new i.maps.Polyline({path:[h,t]}).setMap(p);var e=i.maps.geometry.spherical.computeDistanceBetween(h,t);new i.maps.Marker({position:t,label:"Distance: ".concat((e/1e3).toFixed(2),"km"),icon:"http://maps.google.com/mapfiles/ms/icons/blue-dot.png"}).setMap(p),new i.maps.Marker({position:h,label:"You guessed",icon:"http://maps.google.com/mapfiles/ms/icons/yellow-dot.png"}).setMap(p),o()}},"Confirm guess"))))},w=new r.a(r.b),v=function(){var e=Object(n.useContext)(g).google,t=Object(n.useState)(),o=Object(l.a)(t,2),i=o[0],s=o[1],r=Object(n.useState)([{position:i,icon:"http://maps.google.com/mapfiles/ms/icons/blue-dot.png"}]),p=Object(l.a)(r,2),m=p[0],u=p[1],d=function t(){var o=w.real(-60,77),n=w.real(-180,180),a=new e.maps.StreetViewService,i=new e.maps.LatLng(o,n);a.getPanorama({location:i,radius:1e6,source:"outdoor"},(function(e){e?(u([].concat(Object(c.a)(m),[{position:e.location.latLng,icon:"http://maps.google.com/mapfiles/ms/icons/blue-dot.png"},{position:i,icon:"http://maps.google.com/mapfiles/ms/icons/yellow-dot.png"}])),s(e.location.latLng)):(u([].concat(Object(c.a)(m),[{position:i,icon:"http://maps.google.com/mapfiles/ms/icons/red-dot.png"}])),t())}))};return Object(n.useEffect)((function(){d()}),[]),a.a.createElement("div",{style:{position:"relative",display:"flex"}},a.a.createElement(h,{coordinates:i}),a.a.createElement(b,{point:i,onGuessed:d}))},O=function(){return a.a.createElement(u,null,a.a.createElement(v,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},86:function(e,t,o){e.exports=o(180)}},[[86,1,2]]]);
//# sourceMappingURL=main.79adfc71.chunk.js.map